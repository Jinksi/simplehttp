function home(e,r){if("/"===e.url)if("get"===e.method.toLowerCase())r.writeHead(200,commonHeader),renderer.view("header",{},r),renderer.view("search",{},r),renderer.view("footer",{},r),r.end();else{var n="";e.on("data",function(e){var n=querystring.parse(e.toString());r.writeHead(303,{Location:"/"+n.username}),r.end()})}}function user(e,r){var n=e.url.replace("/","");if(n.length>0){r.writeHead(200,commonHeader),renderer.view("header",{},r);var o=new Profile(n);o.on("end",function(e){var n={avatarURL:e.gravatar_url,username:e.name,badgeCount:e.badges.length,jsPoints:e.points.JavaScript};renderer.view("profile",n,r),renderer.view("footer",{},r),r.end()}),o.on("error",function(e){renderer.view("error",{errorMessage:e.message},r),renderer.view("search",{},r),renderer.view("footer",{},r),r.end()})}}var Profile=require("./profile.js"),renderer=require("./renderer.js"),querystring=require("querystring"),commonHeader={"Content-Type":"text/html"};module.exports.home=home,module.exports.user=user;